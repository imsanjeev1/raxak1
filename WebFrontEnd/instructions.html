<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Raxak Protect Instructions</title>

    <!-- Bootstrap Core CSS -->
    <link href="bs/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="bs/css/modern-business.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="bs/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--<mark>[if lt IE 9]</mark>
>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<!<mark>[endif]</mark>
-->
</head>

<body>

<!-- Navigation -->
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
<div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">Instructions</a>

    </div> 
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    Quick Links
                    <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                    <li>
                        <a href="#softlayer">Instructions for IBM Soft Layer</a>
                    </li>
                    <li>
                        <a href="#aws">Instructions for Amazon AWS</a>
                    </li>
                    <li>
                        <a href="#gce">Instructions for Google GCE</a>
                    </li>
                    <li>
                        <a href="#enroll">Enrolling prepared assets</a>
                    </li>
                    <li>
                        <a href="http://www.cloudraxak.com/stepbystephelp">Step by step help</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="http://www.cloudraxak.com">Cloud Raxak</a>
            </li>
            <li>
                <a href="http://www.cloudraxak.com/contact-us">Contact Us</a>
            </li>
            <li>
                <a href="http://www.cloudraxak.com/product">Products</a>
            </li>

        </ul>
    </div>
    <!-- /.navbar-collapse -->
</div>
<!-- /.container -->
</nav>

<!-- Header Carousel -->
<header id="myCarousel" class="carousel slide">
<!-- Indicators -->

<!-- Wrapper for slides -->
<div class="carousel-inner">
    <div class="item active">
        <div class="fill" style="background-image:url('http://www.cloudraxak.com/wp-content/uploads/2015/04/free-trial.jpg');"></div>
        <div class="carousel-caption">
            <img src="crlogo-white.png"/>
        </div>
    </div>
</div>
</header>

<!-- Page Content -->
<div class="container">

<!-- Marketing Icons Section -->
<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Configure and Use Raxak Protect</h1>
    </div>
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4>Operational Flow</h4>
            </div>

            <div class="panel-body">
                <p>
                    Raxak Protect performs compliance tests on compute assets (servers) that you
                                enroll into our system. These can be virtual machines or bare-metal. Our key architectural philosopy
                                is that we do not place any permanent agent on
                                your machine. Ever.
                    <br>
                    So to enable us to have access your machines, 
                                there are three key steps to using Raxak Protect:
                </p>
                <ol>
                    <li>Preparing a new compute asset for monitoring</li>
                    <li>Enrolling the prepared asset with Raxak Protect</li>
                    <li>Applying profiles and evaluating results</li>
                </ol>
                <p>
                    Preparing a new asset consists of giving Raxak Protect's servers access to your machine. The process depends on whether the asset already exists, or is being freshly provisioned. If the asset is being freshly provisioned, you can use a Cloud Raxak provided post-provisioning script to make the prep easier. For assets that have already been created, you can still use the scripts, or do the preparation manually.
                </p>
                <p>
                    Fundamentally,
                    <ol>
                        <li>
                            Your machine (virtual, or bare metal) must be accessible
                                        from the internet. It must have a public IP address that we can
                                        reach, or depending on the cloud infrastructure provider, it must
                                        have a VPN that can be used to reach private IP addresses (today this
                                        capability is only supported on Soft Layer).
                        </li>

                        <li>
                            Ensure that the machine can be pinged by allowing the ICMP
                                        protocol through your firewall. This involves opening port
                                        -1.
                        </li>

                        <li>
                            Ensure that port 22 is open to allow SSH access to your
                                        machine
                        </li>

                        <li>
                            Make sure you have an account that Raxak can use to login
                                        via SSH, that has elevated privilege. We only use SSH with RSA
                                        key-pairs. We do not use passwords.
                        </li>
                    </ol>
                </p>

                <p>
                    To make it easy to create a suitable user account and to
                              set up the proper keys and permissions, we have created a
                              script that can be used with the post-provisioning mechanisms
                              provided by most public cloud providers. The mechanism for
                              deploying this script depends on the specific provider but
                              generally consist of uploading or cutting-and-pasting the
                              script commands into a text buffer. Our script is available
                              at
                    <a href=
                              "https://www.cloudraxak.net/VMSetup.sh">https://www.cloudraxak.net/VMSetup.sh</a>
                </p>

                <p>
                    For specific instructions on how to input this startup
                          script for various service providers, see below:
                </p>
            </p>
        </div>
    </div>
</div>
<div class="col-md-4">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4>
                <img src="lib/images/softlayer.jpg" height="20px" />
                IBM Soft Layer
            </h4>
        </div>
        <div class="panel-body">
            <p>
                IBM Soft Layer VMs and bare-metal machines can be prepared automatically at the time of provisioning.
            </p>
            <a href="#softlayer" class="btn btn-default">Learn More</a>
        </div>
    </div>
</div>
<div class="col-md-4">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4>
                <img src="lib/images/amzn_icn.jpg" height="20px" alt=
                      "" />
                Amazon AWS
            </h4>
        </div>
        <div class="panel-body">
            <p>
                On Amazon AWS, you need to be careful to select the proper security group that allows ICMP ping and
                        SSH access via port 22.
            </p>
            <a href="#aws" class="btn btn-default">Learn More</a>
        </div>
    </div>
</div>
<div class="col-md-4">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4>
                <img src="lib/images/ggle_icn.jpg" height="20px" alt=
                          "GCE icon"/>
                Google Cloud Engine
            </h4>
        </div>
        <div class="panel-body">
            <p>
                GCE machines can also be automatically prepared to be enrolled into Raxak Protect via post provisioning
                            scripts
            </p>
            <a href="#gce" class="btn btn-default">Learn More</a>
        </div>
    </div>
</div>
<div class="col-lg-12">
    <div class="panel panel-default">
        <h4>Manual Preparation of Existing Compute Assets</h4>
    </div>
    <div class="panel-body">
        If your cloud provider does not have a mechanism for
                        specifying a post-provisioning script, or if you already
                        have a machine that has been provisioned, you can perform
                        the following steps manually:
        <ol>
		<li>
			Make sure your machine has a public IP address and
			port 22 is open on the machine for external access.
			You will need this IP address in subsequent steps.
		</li>
            <li>
                Log in to the target machine with a privileged
                                userid (e.g., root or some user capable of elevating
                                privilege to root)
            </li>

            <li>
                Download the script using
                <kbd>
                    wget https://www.cloudraxak.net/VMSetup.sh
                </kbd>
            </li>

            <li>
                If not logged in as root, change userid to root by doing
                <kbd>
                    sudo su -
                </kbd>
            </li>

            <li>
                Change the permission of the script to allow it to
                                            be executed by doing
                <kbd>chmod +x VMSetup.sh</kbd>
            </li>

            <li>
                Execute the script by doing
                <kbd>./VMSetup.sh</kbd>
            </li>
        </ol>
    </div>
    <div class="panel panel-default">
        <h4>
            What
            <kbd>VMSetup.sh</kbd>
            Does
        </h4>
    </div>
    <div class="panel-body">
        <ol>
            <li>
                Create a New Account for
                                                Raxak Protect called
                <kbd>raxak</kbd>
            </li>

            <li>
                Edits the sudoers file (similar to manually using
                <kbd>sudo visudo</kbd>) to allow the new user
                                                password-less sudo privileges. Adds the following line to
                                                the bottom of the sudoers file
                <kbd>
                    raxak ALL=NOPASSWD: ALL
                </kbd>
            </li>

            <li>
                On some CentOS systems, there is an anachronistic
                                                        command that requires a TTY (for password entry) for sudo
                                                        over SSH. Passwords are not used with keypairs. However,
                                                        some system builds still have this flag in the sudoers
                                                        file. This flag has been deemed to be obsolete and will be
                <a href=
                                                        "https://bugzilla.redhat.com/show_bug.cgi?id=1020147">
                    removed
                                                        by Red Hat in future distributions
                </a>
                . The script adds a
                                                        line that says
                <kbd>
                    Defaults:raxak
                                                        !requiretty
                </kbd>
            </li>
        </ol>
    </div>
</div>
</div>
<!-- /.row -->

<hr id="enroll">

<!-- Features Section -->
<div class="row">
<div class="col-lg-12">
    <h2  class="page-header">
        After your compute assets are prepared: Enrollment and Compliance Checking
    </h2>
</div>

<div class="col-md-6">
    <p>
        Once the target machine is prepped, it can be enrolled into
                                                  the Raxak Protect service.
    </p>
    <p>
        Soft Layer users who have subscribed to Raxak Protect via the IBM Marketplace access Raxak Protect
                                                      via the tile placed in their Markeplace console. This automatically validates the user to Raxak Protect
                                                      and logs the user into the Raxak Protect system.
    </p>

    <p>
        Other users access Raxak Protect via
        <kbd>https://www.cloudraxak.net/</kbd>
        and authenticate themselves
                                                          via Google and Amazon single sign on.
    </p>
    <p>
        Users who have been given a free trial code will be asked to validate their subscription by entering the code.
                                                              Codes are tied to user emails that correspond to their Marketplace, Google, or Amazon IDs, and cannot be
                                                              shared by other users
    </p>
    <p>
        Once the user is logged in, the previously prepared machines can be enrolled using the
        <mark>[Add]</mark>
        button on the
        <mark>[Target Machines]</mark>
        tab in the Raxak Protect console. If you are using VPNs on Soft Layer, see
        <a href="#VPN">this.</a>
    </p>

    <p>
        If you used the automatic post-provisioning script (VMSetup.sh), use
        <kbd>raxak</kbd>
        as the user id in the 
                                                                      enrollment form that is presented when you click the
        <mark>[Add]</mark>
        button.
    </p>

    <a href="#stepbystep" class="btn btn-default">Step by Step Instructions</a>
</div>
<div class="col-md-6">
    <img src="lib/images/addtab.png" alt="Add button on Target Machines tab" style="width:75%;margin-left:auto;margin-right:auto;"></div>
</div>
<!-- /.row -->

<hr>

<!-- Call to Action Section -->
<div class="well">
<div class="row">
    <div class="col-md-8">
        <p>
            Please contact Cloud Raxak with any suggestions or questions about the Raxak Protect product. If you find any bugs
            or behavior that you cannot understand, please file a bug report.
        </p>
    </div>
    <div class="col-md-4">
        <a class="btn btn-lg btn-default btn-block" href="http://www.cloudraxak.com/contact-us">Contact Us</a>
    </div>
</div>
</div>

<hr id="aws">
<div class="row">
<div class="col-lg-12">
    <h2 class="page-header">Amazon AWS Preparation</h2>
    <p>
        First, download the VMSetup.sh script to a local
                                                                      folder by clicking
        <a href=
                                                                      "https://www.cloudraxak.net/VMSetup.sh" download>here.</a>
        On Step 3 (Configure Instance Details) in
                                                                      the Launch Instance workflow, expand the Advanced Details
                                                                      tab at the bottom of the page. Select the "As File" radio
                                                                      button, and browse to the script you downloaded.
    </p>

    <p>
        <img src="lib/images/awsscript.png" style="width:75%; margin-left:auto; margin-right:auto;"/>
    </p>
</div>
</div>

<hr id="softlayer">
<div class="row">
<div  class="col-lg-12">
    <h2 class="page-header">Soft Layer Preparation</h2>
    <p>
        On the second page of the provisioning workflow, look
                                                                      for the section marked <em>Provisioning Scripts</em>
        and
                                                                      enter a new url
        <kbd>https://www.cloudraxak.net/VMSetup.sh</kbd>
        as
                                                                      shown below. Note that it is critical to use the https protocol
                                                                      to ensure that the script gets auto-executed.
    </p>

    <p>
        <img src="lib/images/slscript.png" style="width:75%; margin-left:auto; margin-right:auto;"/>
    </p>
    <hr id="VPN">
    <h2 class="page-header">Using VPN on Soft Layer</h2>
    <p>
        If you want to enroll machines running on Soft Layer that only have
                                                                          private IP addresses, you need to construct a userid associated with
                                                                          your Soft Layer account that has VPN permissions.
    </p>

    <p>
        On the form presented by the
        <mark>[Add]</mark>
        button, select the
        <mark>[Private IP]</mark>
        checkbox, which will open three new input fields: Username, Password, and
                                                                              Tunnel IP. The Username is the userid with VPN permissions. The Password
                                                                              is the VPN password. The Tunnel IP is the IP address of the tunnel endpoint
                                                                              for one of the Soft Layer data centers. This last field defaults to 
                                                                              the endpoint of the Soft Layer San Jose CA data center.
    </p>

    <p>
        Note that there are certain constraints on VPN access such as the limitation of simultaneous VPN tunnels that may be
                                                                                opened. These can be changed by contacting Soft Layer support and opening an appropriate ticket.
    </p>
</div>

</div>

<hr id="gce">
<div class="row">
<div class="col-lg-12">
    <h2 class="page-header">Google Compute Engine (GCE) Preparation</h2>
    <p>
        Download the VMSetup.sh script to a local folder by 
                                                                              clicking
        <a href="https://www.cloudraxak.net/VMSetup.sh" 
                                                                              download>here.</a>
        Expand the "Management, Disk, ..." section
                                                                              by clicking the downward pointing double arrow to the left of
                                                                              the section heading. Then cut and paste the contents of
                                                                              the VMSetup.sh file into the Startup Script box as shown in the
                                                                              screen image below.
    </p>

    <p>
        <img src="lib/images/gcescript.png" style="width:75%; margin-left:auto; margin-right:auto;"/>
    </p>
</div>

</div>

<!-- Footer -->
<nav class="navbar navbar-default navbar-fixed-bottom" role="navigation">
<div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
                <a class="navbar-brand" href="#"><small>Copyright &copy; Cloud Raxak, Inc. 2014-2015</small></a>
    </div> 
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

        <ul class="nav navbar-nav navbar-right">
            <li>
                <a href="terms-of-use.html">Terms of Use</a>
            </li>
            <li>
                <a href="http://www.cloudraxak.com/privacy-statement/">Privacy Statement</a>
            </li>
        </ul>
    </div>
    <!-- /.navbar-collapse -->
</div>
<!-- /.container -->
</nav>

</div>
<!-- /.container -->

<!-- jQuery -->
<script src="bs/js/jquery.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="bs/js/bootstrap.min.js"></script>

<!-- Script to Activate the Carousel -->
<script>
                                                                    $('.carousel').carousel({
        interval: 5000 //changes the speed
    })
                                                                </script>

</body>

</html>
